<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>NA • splicejam</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>



<meta property="og:title" content="NA" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">splicejam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.53.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/basic-rnaseq-workflow.html">Splicejam basic RNAseq workflow</a>
    </li>
    <li>
      <a href="articles/create-a-sashimi-plot.html">Create a Sashimi Plot</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jmw86069/splicejam">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>NA</h1>
    </div>


<div id="todo-for-splicejam" class="section level2">
<h2 class="hasAnchor">
<a href="#todo-for-splicejam" class="anchor"></a>TODO for splicejam</h2>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code><a href="reference/prepareSashimi.html">prepareSashimi()</a></code> throws an error when <code>flatExonsByGene</code> contains different seqlevels than the <code>BigWigFile</code>, usually when <code>flatExonsByGene</code> contains more seqlevels than present in the <code>BigWigFile</code>. It happens even when the exon features of interest involve seqlevels present in <code>BigWigFile</code>. The fix is to reduce the seqlevels in <code>flatExonsByGene</code> to match those in the <code>BigWigFile</code>, or to reduce seqlevels to actual features in <code>flatExonsByGene</code>. At that point an error would accurately reflect that <code>BigWigFile</code> does not contain seqlevels for the requested seqlevels, and thus would be helpful.</li>
</ul>
<div id="sashimi-usability-enhancements" class="section level3">
<h3 class="hasAnchor">
<a href="#sashimi-usability-enhancements" class="anchor"></a>Sashimi usability enhancements</h3>
<ul>
<li>Separate the function <code><a href="reference/sashimiAppConstants.html">sashimiAppConstants()</a></code> to its own proper standalone function, that prepares all the dependency data objects like <code>flatExonsByGene</code>, <code>flatExonsByTx</code>, <code>tx2geneDF</code>.</li>
<li>New function to assemble <code>filesDF</code>. Essentially appends a file to an existing <code>data.frame</code>.</li>
<li>New function <code>plotlySashimi()</code> that optionally includes the gene-transcript-exon model in the visualization.</li>
<li>Zoom by exon range, using exon names. For example, <code>zoom_by=c("Gria1_exon11", "Gria1_exon16")</code>.</li>
</ul>
</div>
<div id="sashimi-longer-term-enhancements" class="section level3">
<h3 class="hasAnchor">
<a href="#sashimi-longer-term-enhancements" class="anchor"></a>Sashimi longer term enhancements</h3>
<ul>
<li>Enable display of sample replicates. Actually, enable the grouping of <code>sample_id</code> entries. Default is to overlay replicates in the same facet panel, facet by <code>sample_group</code>. Alternative is to offset the y-axis similar to the <code>"ggridges"</code> package. Unclear if the layers coverage polygons, and junction arcs, will be out of sync; that is sample_1 should draw coverage and junctions, before sample_2 is drawn.</li>
<li>Enable BAM file for coverage data. Defer filtering rules to the <code>Rsamtools</code> package, but show recommended examples for properly paired reads.</li>
<li>Enable BAM file for junction data. Determine recommended filters for properly paired reads with minimum overlap width at each end of the junction.</li>
<li>Enable Sashimi plots over a region, not just one gene range. Refactor of <code><a href="reference/prepareSashimi.html">prepareSashimi()</a></code> to take GRanges range an optional coordinate range, or multiple genes (which would imply the coordinate range if on the same chromosome).</li>
<li>Create an example showing two genes with overlapping exons.</li>
<li>Mock up an example that combines gene exons, ChIP-seq peaks, and ATAC-seq peaks, together into one schematic of a genome region. It should show before and after, compressing the “intervening sequences” between features.</li>
<li>Mock up example showing <code><a href="reference/detectedTxInfo.html">detectedTxInfo()</a></code> output in the form of plots. For example, show percent max expression as a heatmap, each call labeled to show the counts, TPM, percentage, and whether it was called “detected” by the thresholds.</li>
</ul>
</div>
<div id="farris-r-shiny-feedback" class="section level3">
<h3 class="hasAnchor">
<a href="#farris-r-shiny-feedback" class="anchor"></a>Farris R-shiny feedback</h3>
<ul>
<li>Recalculate scale factors, use reference genes from in situ hybridizations: Calm1, Camk2a, Camk2b, Actb, which show little to no change.</li>
<li>Plotly two-column layout does not keep all columns of panels in sync when the x-axis is zoomed, the desired effect is to have the x-axis of each sashimi panel zoomed consistently, across however many columns are used for layout.</li>
<li>Gria1 takes a while to display the first time, during which the app is not usable. Consider making plot rendering asynchronous to decouple the visualization from the use of the R-shiny app.</li>
<li>The plotly exon coordinates show the overall coordinate range and not the specific exon.</li>
</ul>
</div>
<div id="vignettes" class="section level3">
<h3 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes</h3>
<ul>
<li>New vignette describing how to start a new R-shiny Sashimi App.</li>
</ul>
</div>
<div id="testing" class="section level3">
<h3 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h3>
<ul>
<li>
<p>Implement methods in the testthat package to ensure a consistent suite of tests to confirm full functionality with updates. Highest priority functions, which would break parts of the workflow:</p>
<ul>
<li><code><a href="reference/flattenExonsBy.html">flattenExonsBy()</a></code></li>
<li>
<code><a href="reference/assignGRLexonNames.html">assignGRLexonNames()</a></code> - dependent upon <code><a href="https://www.rdocumentation.org/packages/jamba/topics/makeNames">jamba::makeNames()</a></code>
</li>
<li>
<code><a href="reference/annotateGRfromGR.html">annotateGRfromGR()</a></code> - dependent upon <code><a href="reference/shrinkMatrix.html">shrinkMatrix()</a></code>
</li>
<li><code><a href="reference/shrinkMatrix.html">shrinkMatrix()</a></code></li>
<li><code><a href="reference/combineGRcoverage.html">combineGRcoverage()</a></code></li>
<li><code><a href="reference/df2colorSub.html">df2colorSub()</a></code></li>
</ul>
</li>
</ul>
</div>
<div id="data-frame-versus-tibble" class="section level3">
<h3 class="hasAnchor">
<a href="#data-frame-versus-tibble" class="anchor"></a>data.frame versus tibble</h3>
<ul>
<li>Evaluated tibble as possible replacement for data.frame in <code><a href="reference/prepareSashimi.html">prepareSashimi()</a></code>. It shrinks data volume to about 7 times smaller, reducing duplicated annotations per row for polygon coordinates. However, ggplot2 still requires unnesting the tibble into a tall format for plotting, it is unclear whether that step will incur its own performance hit.</li>
<li>ggplot2 polygon rendering should be faster – possibly needs to reduce the polygon detail prior to plotting, but unclear whether that can happen since ggplot2 already chops polygons into multiple small segments in order to handle transformed axis coordinates.</li>
</ul>
</div>
<div id="r-shiny-caching" class="section level3">
<h3 class="hasAnchor">
<a href="#r-shiny-caching" class="anchor"></a>R-shiny caching</h3>
<ul>
<li>Review flatExonsByTx caching, which gets invalidated too frequently. Consider using a fixed caching strategy, using defined keys instead of the memoise default.</li>
</ul>
</div>
<div id="r-shiny-launchsashimiapp" class="section level3">
<h3 class="hasAnchor">
<a href="#r-shiny-launchsashimiapp" class="anchor"></a>R-shiny launchSashimiApp()</h3>
<ul>
<li>Better error message for gene symbol not recognized.</li>
<li>
<p>Plotly tooltips are so finicky, but try anyway:</p>
<ul>
<li>coverage tooltip: y-position (coverage score), exon name (gr_name), track name (cov_name), preferably the coordinate range of the feature.</li>
<li>junction tooltip: junction score, name “gene_exonFrom gene_exonTo”, and start-end coordinates of the junction.</li>
<li>plotly_onclick: show junction score or exon name in the middle of the respective polygon?</li>
</ul>
</li>
<li>Make font sizes more configurable.</li>
<li>Add gene symbol somewhere, otherwise without the gene model shown, there is no indication what gene is being displayed.</li>
<li><p>Add a vignette describing how to set up an R-shiny splicejam.</p></li>
</ul>
</div>
<div id="sashimi-plot-functionality" class="section level3">
<h3 class="hasAnchor">
<a href="#sashimi-plot-functionality" class="anchor"></a>Sashimi plot functionality</h3>
<ul>
<li>refactor prepareSashimi() to create full merged data.frame, thus removing it from plotSashimi(); it should make plot faster.</li>
<li>geom_diagonal_wide_arc(): new argument calc_midpoint=TRUE will calculate the appropriate middle x-position using the active x-axis transformation so the mid-point is the visible middle. Optionally specify the fraction, 0.5 is middle, 0.25 is the first quartile near the left edge, etc.</li>
<li>
<p>Transformed axis:</p>
<ul>
<li>customize breaks, minor_breaks, and labels functions so ggplot2 labels include as many non-overlapping x-axis labels at exon boundaries as possible. Make minor_breaks include tick marks and optional smaller labels when zoomed in, or when an exon is wide enough to have an intermediate label.</li>
<li>Transformed axis line: x-axis line indicating compresssed status, solid line = uncompressed, dotted line = compressed. It might need a new own geom.</li>
</ul>
</li>
</ul>
</div>
<div id="portabilityusability" class="section level3">
<h3 class="hasAnchor">
<a href="#portabilityusability" class="anchor"></a>Portability/Usability</h3>
<ul>
<li>Verify “Plan B for Windows users.” Test and confirm whether using Windows Subsystem for Linux (WSL) will enable bigWig import.</li>
<li>Expand input types to allow BAM files, from which coverage will be calculated. Will need an appropriate caching strategy, probably at the level of covGR GRanges with RleList to store coverage in value columns.</li>
<li>Expand junction input to allow BAM files, from which junctions can be inferred. (Check existing Bioconductor packages for any that convert BAM to junctions.)</li>
</ul>
</div>
<div id="vignettes-1" class="section level3">
<h3 class="hasAnchor">
<a href="#vignettes-1" class="anchor"></a>Vignettes</h3>
<ul>
<li>
<p>More Sashimi examples:</p>
<ul>
<li>Using baseline to “shift” a set of exons up on the y-axis, use Ntrk2 as an example.</li>
<li>Use baseline with Gria1 to shift up/down the two alternate exons. (The original vision was something like a Sankey plot.)</li>
</ul>
</li>
<li>ALE-specific RNA-seq analysis workflow.</li>
<li><p>Codon usage analysis workflow.</p></li>
</ul>
</div>
</div>


  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward, Shannon Farris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

